(this.webpackJsonpparkfinder=this.webpackJsonpparkfinder||[]).push([[0],{158:function(e,t){e.exports="data:image/png;base64,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"},161:function(e,t,a){e.exports=a(388)},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},378:function(e,t,a){},379:function(e,t,a){},380:function(e,t,a){},381:function(e,t,a){},382:function(e,t,a){},383:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){},388:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(67),l=a.n(r),o=a(6),i=(a(166),a(1)),m=(a(167),a(168),a(3)),s=a(4),u=Object(n.createContext)(),d=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],l=a[1];return c.a.createElement(u.Provider,{value:[r,l]},e.children)},p="https://glacial-lowlands-79872.herokuapp.com/api",b="parkfinder-auth-token",E={saveAuthToken:function(e){window.sessionStorage.setItem(b,e)},getAuthToken:function(){return window.sessionStorage.getItem(b)},clearAuthToken:function(){window.sessionStorage.removeItem(b)},hasAuthToken:function(){return!!E.getAuthToken()},makeBasicAuthToken:function(e,t){return window.btoa("".concat(e,":").concat(t))}},g=E,f=Object(n.createContext)(),h=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),r=a[0],l=a[1];return c.a.createElement(f.Provider,{value:[r,l]},e.children)};function A(){var e=Object(n.useContext)(f),t=Object(i.a)(e,2),a=(t[0],t[1]),r=Object(n.useContext)(u),l=Object(i.a)(r,2),d=l[0],p=l[1];return c.a.createElement("div",{className:"nav"},c.a.createElement("ul",{className:"nav-list"},c.a.createElement("li",{className:"nav-list-item"},c.a.createElement(m.a,{className:"nav-icon",icon:s.h})),d?c.a.createElement("li",{className:"nav-list-item"},c.a.createElement(o.b,{id:"logout",onClick:function(){g.clearAuthToken(),p(!1)},className:"nav-link",to:"/"},"Logout")):c.a.createElement("li",{className:"nav-list-item"},c.a.createElement(o.b,{onClick:function(){a(null)},id:"login",className:"nav-link",to:"/login"},"Login")),c.a.createElement("li",{className:"nav-list-item"},c.a.createElement(m.a,{className:"nav-icon",icon:s.b})),c.a.createElement("li",{className:"nav-list-item"},c.a.createElement(o.b,{className:"nav-link",to:"/signup"},"Signup")),c.a.createElement("li",{className:"nav-list-item"},c.a.createElement(m.a,{className:"nav-icon",icon:s.i})),c.a.createElement("li",{className:"nav-list-item"},c.a.createElement(o.b,{className:"nav-link",to:"/"},"Home")),c.a.createElement("li",{className:"nav-list-item"},c.a.createElement(m.a,{className:"nav-icon",icon:s.f})),c.a.createElement("li",{className:"nav-list-item"},c.a.createElement(o.b,{onClick:function(){a("addpark")},className:"nav-link",to:"/addpark"},"Suggest a Park")),c.a.createElement("li",{className:"nav-list-item"},c.a.createElement(m.a,{className:"nav-icon",icon:s.h}))))}a(176);function v(){return c.a.createElement("div",{className:"footer"},c.a.createElement("ul",{className:"footer-list"},c.a.createElement("li",{className:"footer-list-item"},"2020 Ross MacDonald")))}a(177),a(178);function k(){return c.a.createElement("div",{className:"header"},c.a.createElement("header",{className:"header-box"},c.a.createElement("h1",{className:"header-text"},"find your park"),c.a.createElement("p",{className:"header-p"},"Search for California parks by name or narrow your search by what activities are offered - once you find what you're looking for, check out the park details and comments left by other users. If you've experienced the park yourself, sign up for an account and leave your own comments. Don't see your local park listed? Head to the 'Suggest a Park' link above and submit it for review.")))}var j=a(5),O=(a(179),a(160)),N=(a(180),a(30),Object(n.createContext)()),C=Object(n.createContext)(),w=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)([]),m=Object(i.a)(o,2),s=m[0],u=m[1];return c.a.createElement(C.Provider,{value:[s,u]},c.a.createElement(N.Provider,{value:[r,l]},e.children))};function y(){var e=Object(n.useContext)(C),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useContext)(N),o=Object(i.a)(l,2),u=o[0],d=o[1],p=function e(t){document.removeEventListener("click",e)},b=["Hiking","Boating","Climbing","Picnicking","Skiing","Swimming","Off-Roading","Camping","Biking","Fishing","Snorkeling","SCUBA Diving","Surfing","Geocaching","Wildlife Watching","Horseback Riding","Museum Exhibits","Guided Tours"].sort().map((function(e,t){return c.a.createElement("div",{key:t,className:"select-container control-me"},c.a.createElement("input",{id:"activity-option".concat(t),className:"activity-option",name:e,type:"checkbox",value:e,defaultChecked:a.includes(e)}),c.a.createElement("label",{className:"activity-label",name:e,htmlFor:"activity-option".concat(t)},e),c.a.createElement("div",{className:"control-me"}))}));return c.a.createElement("div",{className:u?"activity-container margin":"activity-container"},c.a.createElement("button",{id:"activity-button",onClick:function(e){e.preventDefault(),u&&(d(!1),document.removeEventListener("click",p)),u||(d(!0),document.addEventListener("click",p))}},"Activities ",u?c.a.createElement(m.a,{id:"chevron-up",icon:s.e}):c.a.createElement(m.a,{id:"chevron-down",icon:s.d})),u&&c.a.createElement("div",{onChange:function(e){if(!a.includes(e.target.value)&&r([].concat(Object(O.a)(a),[e.target.value])),a.includes(e.target.value)){var t=a.indexOf(e.target.value);1===a.length?r([]):a.splice(t,1)}},className:"activity-select",value:a},b))}a(181);function x(e){return c.a.createElement("div",{className:"park-name"},c.a.createElement("input",{onChange:e.getName,id:"park-name-input",type:"text",placeholder:"Park name...",value:e.parkName}))}var S=Object(n.createContext)(),I=Object(n.createContext)(),B=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(""),m=Object(i.a)(o,2),s=m[0],u=m[1];return c.a.createElement(S.Provider,{value:[r,l]},c.a.createElement(I.Provider,{value:[s,u]},e.children))};function R(){var e=Object(j.f)(),t=Object(n.useContext)(N),a=Object(i.a)(t,1)[0],r=Object(n.useContext)(S),l=Object(i.a)(r,2),o=l[0],m=l[1];return c.a.createElement("form",{className:a?"search-form margin-bottom":"search-form",onSubmit:function(t){t.preventDefault(),e.push("/parklist")}},c.a.createElement(x,{getName:function(e){m(e.target.value)},parkName:o}),c.a.createElement(y,{id:"activities"}),c.a.createElement("button",{type:"submit",id:"form-submit-button"},"Search"))}var P=a(32),L=a(98),W=a.n(L),F="AIzaSyAxfWshVpL9zq7vBy4GJNbaiCesq-vXHvI",G=a(158),T=a.n(G);a(378);function Z(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],l=a[1],m=function(e){l(!r)};return c.a.createElement(P.Marker,{optimized:!0,icon:e.icon,position:e.position,onClick:m},r&&c.a.createElement(P.InfoWindow,{onCloseClick:m},c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,c.a.createElement(o.b,{className:"park-link",to:e.url},e.nameContent)),c.a.createElement("p",null,c.a.createElement("strong",null,"Hours:")," ",e.hours),c.a.createElement("img",{src:e.image,alt:e.alt,width:"100"}))))}var M=Object(n.createContext)(),V=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),r=a[0],l=a[1];return c.a.createElement(M.Provider,{value:[r,l]},e.children)};W.a.setApiKey(F),W.a.enableDebug();var D=Object(P.withScriptjs)(Object(P.withGoogleMap)((function(){var e=Object(n.useContext)(M),t=Object(i.a)(e,1)[0],a={};return c.a.createElement(c.a.Fragment,null,t.data.length>0&&c.a.createElement(P.GoogleMap,{ref:function(e){a.map=e},defaultZoom:6,center:{lat:36.9915,lng:-119.7889},mapTypeId:"terrain"},t.data.map((function(e,t){return c.a.createElement(Z,{url:"/park/".concat(e.fullName),parkUrl:e.url,nameContent:e.fullName,hours:e.hours,key:t,title:e.fullName,position:{lat:parseFloat(e.latLng[0]),lng:parseFloat(e.latLng[1])},icon:T.a,image:e.images[0]?e.images[0].url:e.images.url,alt:e.images[0]?e.images[0].altText:e.images.altText})}))))}))),J={getParks:function(){return fetch("".concat(p,"/data"),{headers:{}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}};a(379);function z(){return c.a.createElement("div",{className:"demo"},c.a.createElement("p",{className:"demo-p"},c.a.createElement("strong",null,"Login")," - username: ",c.a.createElement("strong",null,"user2")," and password: ",c.a.createElement("strong",null,"User1111!"),c.a.createElement("br",null),c.a.createElement("strong",null,"Options:"),c.a.createElement("br",null),"- Click on the trees in the map below to find information on that location, and click on the link to follow to the park's full page.",c.a.createElement("br",null),"- Search by park name or activities (or both) and submit your search - this will take you to a park list page, where you can click on the park name for more information. ",c.a.createElement("br",null),"- To add a park, click on the suggest a park link in the nav bar (must be logged in).",c.a.createElement("br",null),"- To post a comment on a park, go to the park's page, click on user comments, and click post comment (also must be logged in). ",c.a.createElement("br",null),"- Enjoy!"))}function Y(){var e=Object(n.useContext)(u),t=Object(i.a)(e,2),a=(t[0],t[1]),r=Object(n.useContext)(M),l=Object(i.a)(r,2),o=l[0],d=l[1],p=Object(n.useState)(null),b=Object(i.a)(p,2),E=b[0],f=b[1],h=Object(n.useState)(null),A=Object(i.a)(h,2),v=A[0],j=A[1];Object(n.useEffect)((function(){if(g.hasAuthToken())return a(!0)})),Object(n.useEffect)((function(){f(!0)}),[]),Object(n.useEffect)((function(){J.getParks().then((function(e){return d(e)})).catch((function(e){console.error("Error:",e)}))}),[d]);return c.a.createElement("div",{className:"main"},c.a.createElement("button",{id:"demo-button",onClick:function(){!0===v&&j(!1),!1!==v&&null!==v||j(!0)}},"demo"),v&&c.a.createElement(z,null),c.a.createElement(k,null),c.a.createElement("section",{className:"main-section"},c.a.createElement(R,null),E&&o?c.a.createElement(D,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat(F,"&v=3.exp&libraries=geometry,drawing,places"),loadingElement:c.a.createElement("div",{style:{height:"100%"}}),mapElement:c.a.createElement("div",{style:{height:"100%",opacity:"0.92",borderRadius:"10px",backgroundColor:"hsla(0, 0%, 0%, 0)"}}),containerElement:c.a.createElement("div",{style:window.innerWidth<500?{height:"500px",width:"100%",paddingBottom:"50px",marginLeft:"auto",marginRight:"auto"}:{height:"500px",width:"80%",paddingBottom:"50px",marginLeft:"auto",marginRight:"auto"}})}):c.a.createElement("div",{className:"loading-container"},c.a.createElement(m.a,{id:"globe",icon:s.g,size:"2x"}))))}a(380);var Q={postLogin:function(e){return fetch("".concat(p,"/auth/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},postUser:function(e){return fetch("".concat(p,"/users"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}};function U(){var e=Object(n.useContext)(u),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useContext)(f),m=Object(i.a)(l,2),s=m[0],d=m[1],p=Object(n.useState)(null),b=Object(i.a)(p,2),E=b[0],h=b[1],A=Object(j.f)();return c.a.createElement("div",{className:!a&&s?"login-form login-form-with-message":"login-form"},a||"addpark"!==s?null:c.a.createElement("div",{className:"addpark-login-message"},c.a.createElement("p",{className:"addpark-login-message-p"},"You have to be signed into an account to add a park - login below or ",c.a.createElement(o.b,{id:"login-message-link",to:"/signup"},"signup here"),".")),c.a.createElement("form",{className:"login",onSubmit:function(e){e.preventDefault(),h(null);var t=e.target,a=t.user_name,n=t.password;Q.postLogin({user_name:a.value,password:n.value}).then((function(e){if(g.saveAuthToken(e.authToken),g.hasAuthToken())return function(e){sessionStorage.setItem("username",e.value),r(!0),null===s?A.push("/"):A.push("/".concat(s)),d(null)}(a);a.value="",n.value=""})).catch((function(e){return h(e.error)}))}},c.a.createElement("h1",{id:"login-header"},"Login"),null!==E&&c.a.createElement("div",{className:"incorrect-login"},c.a.createElement("p",{className:"incorrect-login-message-p"},E)),c.a.createElement("div",{className:"input-container"},c.a.createElement("label",{htmlFor:"user_name",className:"login-label"},"username "),c.a.createElement("input",{id:"user_name",name:"user_name",type:"text"})),c.a.createElement("div",{className:"input-container"},c.a.createElement("label",{htmlFor:"password",className:"login-label"},"password"),c.a.createElement("input",{id:"password",name:"password",type:"password"})),c.a.createElement("div",{className:"button-container"},c.a.createElement("button",{type:"submit"},"submit"))))}a(381);function X(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(null),o=Object(i.a)(l,2),m=o[0],s=o[1],u=Object(j.f)();Object(n.useEffect)((function(){a&&u.push("/login")}));return c.a.createElement("div",{className:"signup-form"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.target,a=t.full_name,n=t.email,c=t.user_name,l=t.password;s(null),Q.postUser({user_name:c.value,password:l.value,full_name:a.value,email:n.value}).then((function(e){a.value="",n.value="",c.value="",l.value="",r(!0)})).catch((function(e){s(e.error)}))},className:"signup"},c.a.createElement("div",{role:"alert",className:"failed-signup"},m&&c.a.createElement("p",{className:"failed-signup-message"},m)),c.a.createElement("h1",{id:"signup-header"},"Signup"),c.a.createElement("div",{className:"input-container"},c.a.createElement("label",{htmlFor:"full_name",className:"signup-label"},"name"),c.a.createElement("input",{id:"full_name",name:"full_name",type:"text"})),c.a.createElement("div",{className:"input-container"},c.a.createElement("label",{htmlFor:"email",className:"signup-label"},"email*"),c.a.createElement("input",{id:"email",name:"email",type:"email",required:!0})),c.a.createElement("div",{className:"input-container"},c.a.createElement("label",{htmlFor:"user_name",className:"signup-label"},"username*"),c.a.createElement("input",{id:"user_name",name:"user_name",type:"text",required:!0})),c.a.createElement("div",{className:"input-container"},c.a.createElement("label",{htmlFor:"password",className:"signup-label"},"password*"),c.a.createElement("input",{id:"password",name:"password",type:"password",required:!0})),c.a.createElement("div",{className:"button-container"},c.a.createElement("button",{type:"submit"},"submit"))))}a(382);function H(e){var t=Object(n.useContext)(f),a=Object(i.a)(t,2),r=(a[0],a[1]),l=Object(n.useContext)(I),u=Object(i.a)(l,2),d=(u[0],u[1]),p=Object(j.f)(),b=Object(j.g)(),E=Object(n.useContext)(M),g=Object(i.a)(E,1)[0],h=Object(n.useState)(!1),A=Object(i.a)(h,2),v=A[0],k=A[1],O=g.data.filter((function(e){return e.fullName===b.parkId}));Object(n.useEffect)((function(){window.scrollTo(0,0),d(b.parkId)}),[b.parkId,d]);return c.a.createElement("div",{className:"park"},c.a.createElement("section",{className:"park-section"},c.a.createElement("nav",{className:"back-nav"},c.a.createElement("button",{onClick:function(){return p.goBack()}},c.a.createElement(m.a,{onMouseLeave:function(){return k(!1)},onMouseEnter:function(){return k(!0)},id:"back-arrow",icon:s.a}),v&&c.a.createElement("span",{id:"back-span"},"go back")),c.a.createElement(o.b,{className:"comments-link sb1 sb2",onClick:function(){r("commentlist")},to:"/commentlist"},"user comments")),c.a.createElement("h1",{id:"park-header"},c.a.createElement("a",{id:"park-header",href:O[0].url,target:"_blank",rel:"noopener noreferrer"},b.parkId)),c.a.createElement("div",{className:"park-description"},O[0].description&&c.a.createElement("p",null,O[0].description),c.a.createElement("p",{className:"hours"},c.a.createElement("strong",null,"Hours:")," ",O[0].hours),O[0].weatherInfo&&c.a.createElement("p",{className:"weather-info"},c.a.createElement("strong",null,"Weather Info:")," ",O[0].weatherInfo)),c.a.createElement("iframe",{src:O[0].map,width:"96%",height:"300",frameBorder:"0",title:"embedded",style:{margin:"2%",marginTop:"40px",borderRadius:"5px",border:0,background:"rgb(255,255,255,0.95)",color:"rgb(65, 79, 71)",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",outline:"none",position:"relative",textOverflow:"ellipses"},allowFullScreen:"","aria-hidden":"false",tabIndex:"0"}),c.a.createElement("div",{className:"park-activities"},c.a.createElement("h3",null,"Activities:"),c.a.createElement("ul",{className:"activities-list"},O[0].activities[1]?O[0].activities.map((function(e,t){return c.a.createElement("li",{key:t},c.a.createElement(m.a,{id:"compass-list",icon:s.f}),e)})):c.a.createElement("li",null,c.a.createElement(m.a,{icon:s.f}),O[0].activities[0]))),c.a.createElement("div",{className:"park-image"},O[0].images.map((function(e,t){return c.a.createElement("img",{id:"image",key:t,width:"100%",src:e.url,alt:e.altText})})))))}a(383);function K(){var e=Object(n.useContext)(M),t=Object(i.a)(e,1)[0],a=Object(j.f)(),r=Object(n.useContext)(S),l=Object(i.a)(r,2),u=l[0],d=l[1],p=Object(n.useContext)(C),b=Object(i.a)(p,2),E=b[0],g=b[1],f=Object(n.useState)(!1),h=Object(i.a)(f,2),A=h[0],v=h[1],k=t.data.filter((function(e){return E.every((function(t){return e.activities.includes(t)}))})).map((function(e,t){return c.a.createElement("li",{className:"park-list-item",key:t+400},c.a.createElement(m.a,{id:"tree-icon",icon:s.i}),c.a.createElement(o.b,{className:"park-list-link",to:"/park/".concat(e.fullName)},e.fullName))})),O=t.data.filter((function(e){return e.fullName.toLowerCase().includes(u.toLowerCase())})).map((function(e,t){return c.a.createElement("li",{className:"park-list-item",key:t},c.a.createElement(m.a,{id:"tree-icon",icon:s.i}),c.a.createElement(o.b,{className:"park-list-link",to:"/park/".concat(e.fullName)},e.fullName))}));return c.a.createElement("div",{className:"park-list"},c.a.createElement("section",{className:"park-list-section"},c.a.createElement("nav",{className:"back-nav"},c.a.createElement("button",{onClick:function(){g([]),d(""),a.goBack()}},c.a.createElement(m.a,{onMouseLeave:function(){return v(!1)},onMouseEnter:function(){return v(!0)},id:"back-arrow",icon:s.a}),A&&c.a.createElement("span",{id:"back-span"},"go back"))),c.a.createElement("h1",{id:"park-list-header"},"search results"),c.a.createElement("p",{id:"park-list-header-p"},c.a.createElement("em",null,"click on the park for more details")),E.length>1&&c.a.createElement("div",{className:"searched-activity-box"},c.a.createElement("h3",{className:"searched-activity-header"},"selected activities:"),c.a.createElement("div",{className:"searched-activity-container"},E.map((function(e,t){return c.a.createElement("p",{className:"searched-activity",key:t},e)})))),c.a.createElement("ul",{className:"park-list-list"},O.length?E.length>0&&""!==u?k.concat(O):E.length>0&&""===u?k:O:c.a.createElement("p",null,"Sorry, no parks match that search!"))))}a(384);var _={postSuggestion:function(e,t,a){return fetch("".concat(p,"/suggestions"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer ".concat(g.getAuthToken())},body:JSON.stringify({park_name:e,location:t,description:a})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}};function q(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=(t[0],t[1]),r=Object(n.useState)(null),l=Object(i.a)(r,2),o=l[0],m=l[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),d=u[0],p=u[1],b=Object(n.useState)(""),E=Object(i.a)(b,2),g=E[0],f=E[1],h=Object(n.useState)(""),A=Object(i.a)(h,2),v=A[0],k=A[1];return c.a.createElement("div",{className:"add-park-form"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),_.postSuggestion(d,g,v).then(m(!0)).catch((function(e){return a(e.error)}))},className:"add-park"},o&&c.a.createElement("p",null,"success! your submission will be reviewed, check back soon to see if it has been posted."),c.a.createElement("h1",{id:"add-park-header"},"Suggest a park"),c.a.createElement("div",{className:"input-container"},c.a.createElement("label",{htmlFor:"park-name"},"park name*"),c.a.createElement("input",{onChange:function(e){return p(e.target.value)},value:d,id:"park-name",name:"park-name",type:"text",required:!0})),c.a.createElement("div",{className:"input-container"},c.a.createElement("label",{htmlFor:"location"},"location*"),c.a.createElement("input",{onChange:function(e){return f(e.target.value)},value:g,id:"location",name:"location",type:"text",required:!0})),c.a.createElement("div",{className:"input-container"},c.a.createElement("label",{htmlFor:"description"},"description*"),c.a.createElement("textarea",{onChange:function(e){return k(e.target.value)},value:v,id:"description",name:"description",rows:"3",required:!0})),c.a.createElement("div",{className:"button-container"},c.a.createElement("button",{type:"submit"},"submit"))))}a(385),a(386);var $=a(159),ee=a.n($);function te(e){var t=e.date,a=ee()(t).format("dddd, MMMM Do YYYY");return c.a.createElement("li",{className:"comment"},c.a.createElement("header",{className:"comment-heading-container"},c.a.createElement("h2",{className:"comment-heading"},e.subject)),c.a.createElement("p",{className:"comment-comment"},e.comment),c.a.createElement("p",{className:"comment-user"},c.a.createElement("strong",{id:"by"},"by:")," ",e.user),c.a.createElement("p",{className:"comment-date"},c.a.createElement("strong",{id:"posted-on"},"posted on:"),a))}a(387);var ae={getComments:function(){return fetch("".concat(p,"/comments"),{headers:{}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},postComment:function(e,t,a){return fetch("".concat(p,"/comments"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer ".concat(g.getAuthToken())},body:JSON.stringify({subject:e,comment:t,park_name:a})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}},ne=Object(n.createContext)(),ce=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],l=a[1];return c.a.createElement(ne.Provider,{value:[r,l]},e.children)};function re(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(""),m=Object(i.a)(o,2),s=m[0],u=m[1],d=Object(n.useContext)(ne),p=Object(i.a)(d,2),b=p[0],E=p[1],g=Object(n.useContext)(I),f=Object(i.a)(g,1)[0];return c.a.createElement("div",{className:"comment-form-page"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={date:new Date,comments:s,user_name:sessionStorage.getItem("username"),subject:r,park_name:f},a=b.concat([t]);ae.postComment(t.subject,t.comments,t.park_name).then(E(a)).catch((function(e){return console.error(e)}))},className:"comment-form"},c.a.createElement("h2",{id:"comment-header"},"leave thoughts, ideas, or recommendations for your fellow parkgoers"),c.a.createElement("div",{className:"comment-input-container"},c.a.createElement("label",{htmlFor:"comment-subject"},"subject"),c.a.createElement("input",{id:"comment-subject",name:"comment subject",type:"text",value:r,onChange:function(e){return l(e.target.value)}})),c.a.createElement("div",{className:"comment-input-container"},c.a.createElement("label",{htmlFor:"comment-comment"},"comments"),c.a.createElement("textarea",{id:"comment-comment",name:"comment-comment",onChange:function(e){return u(e.target.value)},value:s,rows:"5"})),c.a.createElement("div",{className:"button-container"},c.a.createElement("button",{type:"submit"},"submit"))))}function le(e){var t=Object(n.useContext)(ne),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useContext)(I),u=Object(i.a)(o,1)[0],d=Object(j.f)(),p=Object(n.useState)(!1),b=Object(i.a)(p,2),E=b[0],g=b[1],f=Object(n.useState)(!1),h=Object(i.a)(f,2),A=h[0],v=h[1];Object(n.useEffect)((function(){ae.getComments().then((function(e){return l(e)})).catch((function(e){console.error("Error:",e)}))}),[l]);var k=Object.values(r).filter((function(e){return e.park_name.toLowerCase()===u.toLowerCase()})).map((function(e,t){return c.a.createElement(te,{key:t,date:e.date,subject:e.subject,comment:e.comments,user:e.user_name})}));return c.a.createElement("div",{className:"comment-list-page"},c.a.createElement("div",{className:"comment-list"},c.a.createElement("nav",{className:"back-nav"},c.a.createElement("button",{onClick:function(){return d.goBack()}},c.a.createElement(m.a,{onMouseLeave:function(){return g(!1)},onMouseEnter:function(){return g(!0)},id:"back-arrow",icon:s.a}),E&&c.a.createElement("span",{id:"back-span"},"go back"))),""!==u&&c.a.createElement("header",{className:"comment-list-heading-container"},c.a.createElement("h1",{className:"comment-list-heading"},u)),c.a.createElement("div",{className:"comment-toggle-container"},c.a.createElement("div",{className:"comment-form-toggle sb1",onClick:function(){return v(!A)}},"post comment ",c.a.createElement("br",null),c.a.createElement(m.a,{id:"comment-toggle-icon",icon:s.c}))),A&&c.a.createElement(re,null),c.a.createElement("ul",{className:"comment-list-list"},r.length>0&&k)))}var oe=function(){var e=Object(n.useContext)(u),t=Object(i.a)(e,1)[0];return c.a.createElement(w,null,c.a.createElement(B,null,c.a.createElement(ce,null,c.a.createElement(h,null,c.a.createElement("div",{className:"App"},c.a.createElement(A,null),c.a.createElement(j.b,{exact:!0,path:"/login",component:U}),c.a.createElement(j.b,{exact:!0,path:"/",component:Y}),c.a.createElement(j.b,{exact:!0,path:"/signup",component:X}),c.a.createElement(j.b,{exact:!0,path:"/park",component:H}),c.a.createElement(j.b,{exact:!0,path:"/parklist",component:K}),c.a.createElement(j.b,{exact:!0,path:"/commentlist",component:le},t?c.a.createElement(le,null):c.a.createElement(j.a,{to:"/login"})),c.a.createElement(j.b,{exact:!0,path:"/addpark"},t?c.a.createElement(q,null):c.a.createElement(j.a,{to:"/login"})),c.a.createElement(j.b,{path:"/park/:parkId",component:H}),c.a.createElement(v,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(o.a,null,c.a.createElement(V,null,c.a.createElement(d,null,c.a.createElement(oe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[161,1,2]]]);
//# sourceMappingURL=main.0c95da19.chunk.js.map